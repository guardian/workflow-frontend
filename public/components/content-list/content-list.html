
<div class="alert alert-danger" ng-if="refreshContentError">
    There was a problem contacting the server, please try to
    <a href="javascript:window.location.reload()">reload</a> the page. If the problem continues, please contact
    <a href="mailto:cms.workflow@guardian.co.uk">the Workflow team</a>.
</div>

    <div class="column-configurator">
        <ul class="column-configurator__list">
            <li class="column-configurator__list-item" ng-repeat="col in columns">
                <label for="{{ col.name }}">
                    <input type="checkbox" ng-model="col.active" id="{{ col.name }}" name="{{ col.name }}" ng-change="colChange()"/>
                    {{ col.name }}
                </label>
            </li>
        </ul>
    </div>

<table class="content-list">
    <thead class="content-list-head">
        <tr class="content-list-head__row">
            <th class="content-list-head__heading--group" colspan="4"></th>

            <th ng-repeat="col in columns" ng-if="col.labelHTML.length > 0 && col.active" class="content-list-head__heading--{{ col.name }}" ng-attr-title="{{ col.title.length > 0 && col.title || undefined }}" colspan="{{ col.colspan }}" bind-compiled-html="col.labelHTML"></span></th>

        </tr>
    </thead>
    <tbody ng-repeat="group in content track by group.name">
        <tr class="content-list__group-heading-row">
            <th class="content-list__group-heading" scope="rowgroup" colspan="{{ 9 + columns.length }}">
                <span class="content-list__group-heading-link">{{ group.title }} <span class="content-list__group-heading-count" ng-show="group.items.length">{{ group.items.length }}</span></span>
                <button class="content-list__button--new" ng-click="contentList.newItem()" ng-if="group.name === 'stub'"><i class="content-list__button-icon" wf-icon="pen"></i>New</button>
                <button class="content-list__button--import" ng-click="contentList.importItem()" ng-if="group.name === 'stub'"><i class="content-list__button-icon" wf-icon="import"></i>Import from Composer</button>
            </th>
        </tr>

        <tr wf-content-list-item ng-repeat="contentItem in group.items track by contentItem.id" content-item="contentItem" content-list="contentList" legal-values="contentList.legalValues" status-values="statusValues" sections="sections"></tr>

    </tbody>

    <tbody class="content-list-draw__dock">
        <tr wf-content-list-drawer ng-model="contentItem" content-item="contentItem" content-list="contentList" legal-values="contentList.legalValues" status-values="statusValues"></tr>
    </tbody>

</table>
