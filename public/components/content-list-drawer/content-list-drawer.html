
<tr class="content-list-drawer content-list-drawer--hidden">
    <td colspan="100" class="content-list-drawer__full-width">

        <div class="content-list-drawer__container"><!-- div for animation -->
            <div class="content-list-drawer__container-inner"><!-- div for padding/spacing -->
                <ul class="drawer__column">
                    <li class="drawer__section">
                        <span class="drawer__section-title">Priority</span>
                        <select class="drawer__section-control" ng-model="contentItem.priority" ng-options="p.value as p.name for p in contentList.priorities" wf-content-item-update-action="priority"></select>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Production deadline</span>

                            <span ng-hide="dateTimeEdit" ng-click="dateTimeEdit = true" ng-class="{ 'drawer__section-data-row--editable': contentItem.item.due, 'drawer__section-data-row--editable-empty': !contentItem.item.due }" title="{{ (contentItem.item.due | wfLocaliseDateTime | wfFormatDateTime:'long') || '' }}">
                                {{ (contentItem.item.due | wfLocaliseDateTime | wfFormatDateTime) || 'Add deadline' }}
                            </span>

                        <form ng-show="dateTimeEdit" ng-submit="dateTimeEdit = false">
                            <div wf-date-time-picker ng-model="contentItem.item.due" wf-on-cancel="dateTimeEdit = false" wf-update-on="none" wf-cancel-on="blur" wf-on-update="updateDeadline(); dateTimeEdit = false" wf-small="true"></div>
                        </form>

                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Scheduled</span>
                        <span class="drawer__section-data-row">{{ contentItem.scheduled }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Last modified</span>
                        <span class="drawer__section-data-row">{{ (contentItem.lastModified | wfLocaliseDateTime | wfFormatDateTime) || "-" }}</span>
                        <span class="drawer__section-data-row" ng-show="contentItem.lastModifiedBy">by {{ contentItem.lastModifiedBy }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">First published</span>
                        <span class="drawer__section-data-row">{{ contentItem.firstPublishedTime || '-' }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Last published</span>
                        <span class="drawer__section-data-row">{{ contentItem.publishedTime || '-' }}</span>
                    </li>
                </ul>

                <ul class="drawer__column">
                    <li class="drawer__section">
                        <span class="drawer__section-title">Status</span>
                        <select class="drawer__section-control" ng-model="contentItem.status" ng-options="status.value as status.label for status in contentItem.statusValues" wf-content-item-update-action="status">
                        </select>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">State</span>
                        <span class="drawer__section-data-row">{{ contentItem.state || '-' }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Office</span>
                        <select  class="drawer__section-control" ng-model="contentItem.office" ng-change="updateOffice(contentItem.office)" ng-options="office.value as office.name for office in prodOffices" wf-content-item-update-action="prodOffice"></select>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">In use by</span>
                        <wf-presence-indicators presence-id="contentItem.composerId" in-drawer="true">
                        </wf-presence-indicators>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Assigned to</span>
                        <span class="drawer__section-data-row--editable" editable-text="contentItem.item.assignee" buttons="no" onbeforesave="onBeforeSaveAssignee($data)">{{ contentItem.item.assignee || "None" }}</span>
                    </li>

                    <li class="drawer__section">
                        <span class="drawer__section-title">InCopy</span>
                        <span class="drawer__section-data-row">{{ contentItem.incopyTitle }}</span>
                        <span class="drawer__section-data-row" ng-if="contentItem.isOwnedByInCopy"><i>Locked</i></span>
                    </li>

                </ul>

                <ul class="drawer__column">
                    <li class="drawer__section">
                        <span class="drawer__section-title">Section</span>
                        <select class="drawer__section-control" ng-click="$event.stopPropagation()" ng-model="contentItem.section" ng-options="section.name for section in contentList.sections" wf-content-item-update-action="section"></select>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Content type</span>
                        <span class="drawer__section-data-row"><i class="drawer__icon--content-type" wf-icon="{{ contentItem.contentType }}"/> {{ contentItem.contentTypeTitle }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Comments</span>
                        <span class="drawer__section-data-row">{{ contentItem.commentsTitle }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Guardian Witness</span>
                        <span class="drawer__section-data-row drawer__section-data-row--coming-soon">Coming soon...</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Feature</span>
                        <span class="drawer__section-data-row drawer__section-data-row--coming-soon">Coming soon...</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Legal status</span>
                        <select class="drawer__section-control" ng-model="contentItem.needsLegal" ng-options="ls.value as ls.name for ls in legalValues" wf-content-item-update-action="needsLegal"></select>
                    </li>
                </ul>

                <ul class="drawer__column--wide">
                    <li class="drawer__section">
                        <span class="drawer__section-title">Working title</span>
                        <span class="drawer__section-data-row--editable" editable-text="contentItem.workingTitle" buttons="no" onbeforesave="onBeforeSaveWorkingTitle($data)">{{ contentItem.workingTitle || '-' }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Headline</span>
                        <span class="drawer__section-data-row">{{ contentItem.headline || '-' }}</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">URL</span>
                        <span class="drawer__section-data-row" ng-if="contentItem.path">
                            <a href="{{ contentItem.links.live || contentItem.links.preview || contentItem.links.composer }}">{{ contentItem.path }}</a>
                        </span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Standfirst</span>
                        <span class="drawer__section-data-row" ng-class="{'drawer__section-data-row--empty': !contentItem.standfirst}">
                            {{ contentItem.standfirst || "None" }}
                        </span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Tags</span>
                        <span class="drawer__section-data-row drawer__section-data-row--coming-soon">Coming soon...</span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Note</span>
                        <span class="drawer__section-data-row--editable" editable-textarea="contentItem.note" onbeforesave="onBeforeSaveNote($data)">{{ contentItem.note || 'Add note' }}</span>
                    </li>
                </ul>

                <ul class="drawer__column">
                    <li class="drawer__section drawer__section-mainmedia"
                    ng-class="{'drawer__section-mainmedia--nopreview': contentItem.mainMediaNoPreview}">

                        <span class="drawer__section-title">Main media</span>
                        <div ng-if="contentItem.mainMediaType == 'image'" class="drawer__section-image-container">
                            <img ng-src="{{ contentItem.mainMediaUrl}}" alt=""/>
                        </div>
                        <div ng-if="contentItem.mainMediaNoPreview" class="drawer__section-image-container">
                            {{contentItem.mainMediaType}}
                        </div>
                        <div ng-if="!contentItem.mainMediaType" class="drawer__section-data-row drawer__section-data-row--empty">
                            None
                        </div>
                    </span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Caption</span>
                        <span class="drawer__section-data-row" ng-class="{'drawer__section-data-row--empty': !contentItem.mainMediaCaption}">
                            {{ contentItem.mainMediaCaption || "None" }}
                        </span>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Alt text</span>
                        <span class="drawer__section-data-row" ng-class="{'drawer__section-data-row--empty': !contentItem.mainMediaAltText}">
                            {{ contentItem.mainMediaAltText || "None" }}
                        </span>
                    </li>
                </ul>

                <ul class="drawer__column">
                    <li class="drawer__section">
                        <span class="drawer__section-title">Trail picture</span>
                        <div ng-if="contentItem.trailImageUrl" class="drawer__section-image-container">
                            <img ng-src="{{ contentItem.trailImageUrl }}" alt=""/>
                        </div>
                        <div ng-if="!contentItem.trailImageUrl" class="drawer__section-data-row drawer__section-data-row--empty">
                            None
                        </div>
                    </li>
                    <li class="drawer__section">
                        <span class="drawer__section-title">Trail text</span>
                        <span class="drawer__section-data-row" ng-class="{'drawer__section-data-row--empty': !contentItem.trailtext}">
                            {{ contentItem.trailtext || "None" }}
                        </span>
                    </li>
                </ul>



                <ul class="drawer__column--control">
                    <li class="drawer__control">
                        <span class="drawer__section-data-row drawer__control-item" ng-click="contentListDrawerController.hide()">
                            <i class="content-list-item__icon--composer drawer__control-item-icon" wf-icon="cross"></i>
                            Close details
                        </span>
                    </li>
                    <li class="drawer__control" ng-class="{'drawer__control--confirm': awaitingDeleteConfirmation}">
                    <span class="drawer__section-data-row drawer__control-item drawer__control-item--delete" ng-click="deleteContentItem()">
                        <i class="content-list-item__icon--composer drawer__control-item-icon" wf-icon="delete"></i>
                            {{ awaitingDeleteConfirmation ? 'Delete' : 'Delete from Workflow' }}
                        </span>
                    </li>
                    <li class="drawer__control" ng-show="incopyExportEnabled">
                        <a href="{{ incopyExportUrl }}" class="drawer__section-data-row drawer__control-item drawer__control-item--incopy">
                            <i class="content-list-item__icon--composer drawer__control-item-icon" wf-icon="incopy"></i>
                            {{ contentItem.linkedWithIncopy ? "Resend" : "Send" }} to InCopy
                        </a>
                    </li>
                 </ul>
            </div>
        </div>

    </td>
</tr>

