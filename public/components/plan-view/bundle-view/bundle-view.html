<div class="bundle-view__list">
    <ul class="bundle-list-items list-unstyled">

        <li class="day-bundle" ng-repeat="bundle in dayItemsByBundle track by bundle.id" ng-class="{ 'day-bundle--unscheduled': bundle.id === 0 }" data-jqyoui-options="bundleDraggableOptions" jqyoui-droppable="{onDrop: 'droppedOnExistingBundle'}" data-drop="bundle.id !== 0" ng-model="bundle.itemsToday" ng-if="bundle.itemsToday.length > 0">

            <div class="day-bundle__title" ng-style="genColor(bundle.title)">

                <!--Title for unscheduled-->
                <span ng-if="bundle.id === 0">{{ bundle.title }}</span>

                <!--Editable title for all other budles-->
                <wf-editable ng-if="bundle.id !== 0" ng-model="bundle.title" wf-editable-on-update="updateTitle(bundle, newValue)" wf-editable-required="true">
                    {{ bundle.title || 'Empty...' }}
                </wf-editable>

                <div class="day-bundle__actions">
                    <span class="day-bundle__add-item" ng-click="addNewItemToBundle(bundle)">+</span>
                </div>

            </div>

            <ul class="day-bundle__items list-unstyled" ng-style="genColor(bundle.title)">

                <li wf-plan-item variant="'bundle'" ng-repeat="item in bundle.itemsToday track by item.id" item="item" bundle="bundle" ng-model="item" class="day-view__item" data-drag="bundle.id === 0" jqyoui-draggable="{onStart: 'draggingStart(item)', onStop: 'draggingStop', onDrag: 'onDrag', placeholder: true}" data-jqyoui-options="bundleDraggableOptions" jqyoui-droppable="{onDrop: 'droppedOn'}" data-drop="!item.bundleId"></li>

            </ul>
        </li>
    </ul>
</div>
