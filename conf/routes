# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Application
GET            /                                           controllers.Application.index

GET            /dashboard                                  controllers.Application.dashboard

#static user pages
GET            /editorialSupport                           controllers.Application.editorialSupport
POST           /editorialSupport                           controllers.Application.updateEditorialSupport
GET            /subscriptions                              controllers.Notifications.subscriptions
POST           /subscriptions                              controllers.Notifications.updateSubscription
GET            /faqs                                       controllers.Application.faqs
GET            /troubleshooting                            controllers.Application.troubleshooting
GET            /training                                   controllers.Application.training

# Login
GET            /oauthCallback                              controllers.Login.oauthCallback
GET            /login/status                               controllers.Login.status
GET            /logout                                     controllers.Login.logout

# API

GET            /api/content                                controllers.Api.content
POST           /api/content                                controllers.Api.createContent
GET            /api/content/:composerId                    controllers.Api.getContentByComposerId(composerId: String)
PUT            /api/content/:composerId/status             controllers.Api.putStubStatusByComposerId(composerId: String)
DELETE         /api/content/:composerId                    controllers.Api.deleteContent(composerId: String)

POST           /api/stubs                                  controllers.Api.createContent
PUT            /api/stubs/:stubId                          controllers.Api.putStub(stubId: Long)
PUT            /api/stubs/:stubId/assignee                 controllers.Api.putStubAssignee(stubId: Long)
PUT            /api/stubs/:stubId/assigneeEmail            controllers.Api.putStubAssigneeEmail(stubId: Long)
PUT            /api/stubs/:stubId/dueDate                  controllers.Api.putStubDueDate(stubId: Long)
PUT            /api/stubs/:stubId/note                     controllers.Api.putStubNote(stubId: Long)
PUT            /api/stubs/:stubId/needsLegal               controllers.Api.putStubLegalStatus(stubId: Long)
PUT            /api/stubs/:stubId/needsPictureDesk         controllers.Api.putStubPictureDesk(stubId: Long)
PUT            /api/stubs/:stubId/prodOffice               controllers.Api.putStubProdOffice(stubId: Long)
PUT            /api/stubs/:stubId/section                  controllers.Api.putStubSection(stubId: Long)
PUT            /api/stubs/:stubId/workingTitle             controllers.Api.putStubWorkingTitle(stubId: Long)
PUT            /api/stubs/:stubId/priority                 controllers.Api.putStubPriority(stubId: Long)
PUT            /api/stubs/:stubId/trashed                  controllers.Api.putStubTrashed(stubId: Long)
PUT            /api/stubs/:stubId/status                   controllers.Api.putStubStatus(stubId: Long)
PUT            /api/stubs/:stubId/plannedPublicationId     controllers.Api.putStubPlannedPublicationId(stubId: Long)
PUT            /api/stubs/:stubId/plannedBookId            controllers.Api.putStubPlannedBookId(stubId: Long)
PUT            /api/stubs/:stubId/plannedBookSectionId     controllers.Api.putStubPlannedBookSectionId(stubId: Long)
PUT            /api/stubs/:stubId/plannedNewspaperPageNumber          controllers.Api.putStubPlannedNewspaperPageNumber(stubId: Long)
PUT            /api/stubs/:stubId/plannedNewspaperPublicationDate     controllers.Api.putStubPlannedNewspaperPublicationDate(stubId: Long)
DELETE         /api/stubs/:stubId                          controllers.Api.deleteStub(stubId: Long)

GET            /api/statuses                               controllers.Api.statusus
GET            /api/sections                               controllers.Api.sections
GET            /api/allowedAtomTypes                       controllers.Api.allowedAtomTypes
GET            /api/priorities                             controllers.Api.priorities

GET            /api/editorialSupportTeams                  controllers.Api.editorialSupportTeams

# CAPI
GET            /capi/*path                                 controllers.CAPIService.previewCapiProxy(path)

# Atoms
GET            /api/atom/:editorId                         controllers.Api.getContentByEditorId(editorId: String)

# Notifications
# This endpoint is POSTed to via our service worker with no access to a csrf token
+nocsrf
POST           /api/notifications                          controllers.Notifications.addSubscription

# Admin
GET            /admin                                      controllers.Admin.index
GET            /admin/desks-and-sections                   controllers.Admin.desksAndSections(selectedDesk: Option[Long])

POST           /admin/sections                             controllers.Admin.addSection
DELETE         /admin/sections                             controllers.Admin.removeSection

POST           /admin/desks                                controllers.Admin.addDesk
DELETE         /admin/desks                                controllers.Admin.removeDesk

POST           /admin/assign                               controllers.Admin.assignSectionToDesk

# Admin (section,tag) mappings
GET            /admin/sections-and-tags                    controllers.Admin.sectionsAndTags(selectedSection: Option[Long])
POST           /admin/sectiontag                           controllers.Admin.addSectionTag
POST           /admin/sectiontag/delete                    controllers.Admin.removeSectionTag

# shared secret auth test
GET            /sharedsecret/content                       controllers.Api.sharedAuthGetContent
GET            /sharedsecret/content/:id                   controllers.Api.sharedAuthGetContentById(id)

# Support
POST            /support/logger                            controllers.Support.sendLog

# Management
GET            /management/healthcheck                     controllers.Management.healthCheck

# Map static resources from the /public folder to the /assets URL path
GET            /assets/*file                               controllers.Assets.versioned(path="/public", file: Asset)
