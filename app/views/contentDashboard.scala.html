@(items: Map[String, WorkflowContent], workFlowForm: Form[WorkflowContent])
@import helper._
@main("Content Dashboard") {
  <div class="col-md-9">
      <table class="table table-striped">
          <tr>
              <th>Working Title / Path</th>
              <th>Contributors</th>
              <th>Status</th>
              <th>Desk</th>
              <th>Last Modified</th>
              <th>By</th>
              <th>What Changed</th>
          </tr>
          @for((path, content) <- items) {
          <tr>
              <td>
                  @for(title <- content.workingTitle) {
                    <small>@title</small>
                  }
                  @for(path <- content.path) {
                    <small>@path</small>
                  }
              </td>
              <td>@content.contributors.map(_.name).mkString(", ")</td>
              <td>@content.status</td>
              <td>@content.desk</td>
              @for(mod<-content.lastModification){
              <td>@mod.dateTime</td>
              <td>@mod.user.getOrElse("unknown")</td>
              <td>@mod.whatChanged</td>
              }
          </tr>
          }
      </table>
  </div>
  <div class="col-md-3">
    @form(action=routes.Application.newWorkFlow()){
        @inputText(workFlowForm("title"))
        @select(field = workFlowForm("desk"), options = options(List("technology","sport", "g2")))
        @select(field = workFlowForm("status"), options = options(List("created","author","edited", "subbed","published")))
      <input type="submit" value="Create">
    }
  </div>

}
