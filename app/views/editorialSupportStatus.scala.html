@(audience: EditorialSupportTeam, fronts: EditorialSupportTeam)

@renderTeam(team: EditorialSupportTeam) = {
@for(staff <- team.staff.sortBy(_.name)) {
    <ul class="status"><input type="checkbox" id="editorialSupportStatus-@staff.id" onchange="window.toggleStaff('@staff.id')" @if(staff.active){checked} val>
        <label>@staff.name</label>
        <input type="text" value="@staff.description" id="editorialSupportDescription-@staff.id" onChange="window.updateStatus('@staff.id','@staff.description')">
    </ul>
}
}

@renderAddStaff(teamName: String) = {
    <ul class="status">Add new team member<input type="text" id="name-entry-@teamName"><button class="btn btn-lrg btn-info" onclick="window.addNewStaff('@teamName')">add</button></ul>
}

@renderDeleteStaff(teamName: String) = {
    <ul class="status">Delete team member<input type="text" id="delete-name-entry-@teamName"><button class="btn btn-lrg btn-info" onclick="window.deleteStaff('@teamName')">delete</button></ul>
}

@layout("Support") {
    <div class="admin">

        <div class="starter-template">
            @*<p class="lead">*@
            <p>Note: this will display at the top of any Composer document. Don't forget to untick yourself so that colleagues aren't trying to contact an empty chair.</p>
        </div>

        <div>
            <div class="col-lg-3">
                <h2>@audience.name team</h2>
                @renderTeam(audience)
                @renderAddStaff(audience.name)
                @renderDeleteStaff(audience.name)
                <h2>@fronts.name team</h2>
                @renderTeam(fronts)
                @renderAddStaff(fronts.name)
                @renderDeleteStaff(fronts.name)
            </div>
        </div>
    </div>

    <script src="@routes.Assets.versioned("build/editorialsupportteams.bundle.js")"></script>
}

