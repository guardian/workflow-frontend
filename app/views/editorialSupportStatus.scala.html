@(teams: List[EditorialSupportTeam], fronts: List[FrontsEditor])

@renderTeam(teamName: String, members: List[TeamMember]) = {
    <ul class="support-list">
    @for(staff <- members) {
        <form class="support-list-form">
            <li class="support-list-item">
                <input type="hidden" name="team" value="@staff.team">
                <input type="hidden" name="name" value="@staff.name">
                <p class="support-staff-label support-staff-row"><b>@staff.name</b></p>

                <div class="support-staff-row">
                    @if(staff.active) {
                        <label class="support-staff-label">Active?</label>
                        <input name="active" type="checkbox" checked />
                    } else {
                        <label class="support-staff-label">Active?</label>
                        <input name="active" type="checkbox" />
                    }
                </div>

                <div class="support-staff-row">
                    <label class="support-staff-label">Description</label>
                    <input name="description" type="text" value="@staff.description" />
                </div>
            </li>
        </form>
    }
    </ul>
}

@renderAddTeamMember(teamName: String) = {
    <div class="support-admin-label">
        <status>Add new team member</status>
        <input type="hidden" name="team" value="@teamName" />
        <input type="text" class="support-admin-text-input" name="name">
        <div class="support-admin-button-container">
            <button class="btn btn-sm btn-info">add</button>
        </div>
    </div>
}

@layout("Support") {
    <div class="admin">

        <div class="starter-template">
            @*<p class="lead">*@
            <p>Note: this will display on all Composer documents. Don't forget to untick yourself so that colleagues aren't trying to contact an empty chair.</p>
        </div>

        <div>
            <div class="col-lg-12">
                @for(team <- teams) {
                    <h2>@team.name team</h2>
                    <div class="support-list-wrapper">
                        @renderTeam(team.name, team.staff)
                        <h3>Admin</h3>
                        @renderAddTeamMember(team.name)
                    </div>
                }
            </div>
        </div>
    </div>

    <script src="@routes.Assets.versioned("build/editorialsupportteams.bundle.js")"></script>
}

